import { Steps, Callout } from "nextra/components";
import { Code } from "../../components/Code/Code";

<Steps>
### Installing Auth.js

Installing Auth.js is easy, you just need to run a single command and set one environment variable.

Start by installing the appropriate package for your framework of choice:

<Code>
  <Code.Next>
    
    ```bash
    npm install next-auth
    ```

  </Code.Next>
  <Code.Svelte>
  
    ```bash
    npm install @auth/sveltekit
    ```
  </Code.Svelte>
  <Code.Solid>
  
    ```bash
    npm install @auth/solid-start
    ```
  
  </Code.Solid>
  <Code.Express>
  
    ```bash
    npm install @auth/express
    ```
  
  </Code.Express>
</Code>

### Setup Environment

Create a `.env.local` file at the root of your application and add the `AUTH_SECRET` environment variable:

```bash filename=".env.local"
AUTH_SECRET="This is an example"
```

`AUTH_SECRET` is a random token used by the library to encrypt tokens and email verification hashes, and it's mandatory to keep things secure (See [Deployment](/overview/deployment) to learn more). On Unix based systems you can use this command:

```bash
openssl rand -base64 32
```

or you can visit https://generate-secret.vercel.app/32 to generate one.

<Callout type="warning">
  When deploying your app outside <strong>Vercel</strong>, you'll need to set
  also a `AUTH_TRUST_HOST` variable to `true` for other hosting providers like
  <strong>Cloudflare Pages</strong> or <strong>Netlify</strong>.
</Callout>

### Initialise Auth.js

The most important file in your Auth.js project is the Auth.js config file. It's there where you control the behaviour of the library and specify custom authentication logic.

Start by creating a new `auth.ts` file at the root of your app with the following content:

<Callout type="info">
  You can actually name the file however you want and place it wherever you
  like. Make sure you place it's easy to reference via imports, as we'll be
  using its 3 main exports: `signIn`, `signOut` and `auth`.
</Callout>

<Code>
  <Code.Next>
    
```ts filename="./auth.ts"
import NextAuth from "next-auth";

export const { signIn, signOut, auth } = NextAuth({
  providers: [],
});
```

  </Code.Next>
  <Code.Svelte>
    
```ts filename="./src/hooks.server.ts"
import { SvelteKitAuth } from "@auth/sveltekit"
import GitHub from "@auth/sveltekit/providers/github"
import { GITHUB_ID, GITHUB_SECRET } from "$env/static/private"

export const handle = SvelteKitAuth({
  providers: [
    GitHub({ 
      clientId: GITHUB_ID, 
      clientSecret: GITHUB_SECRET 
    })
  ],
})
```

  </Code.Svelte>
  <Code.Solid>
    
```ts filename="./routes/api/auth/[...solidauth].ts"
import { SolidAuth, type SolidAuthConfig } from "@auth/solid-start"
import GitHub from "@auth/core/providers/github"

export const authOpts: SolidAuthConfig = {
  providers: [
    GitHub({
      clientId: process.env.GITHUB_ID,
      clientSecret: process.env.GITHUB_SECRET,
    }),
  ],
}

export const { GET, POST } = SolidAuth(authOpts)
```

  </Code.Solid>
  <Code.Express>
    
```ts filename="./src/routes/auth.route.ts"
import { ExpressAuth } from "@auth/express"
import GitHub from "@auth/express/providers/github"
import express from "express"

const app = express()

// Make sure to use these body parsers so Auth.js can receive data from the client
app.use(express.json())
app.use(express.urlencoded({ extended: true }))

// If app is served through a proxy, trust the proxy to allow HTTPS protocol to be detected
app.use('trust proxy')

app.use(
  "/api/auth/*",
  ExpressAuth({
    providers: [
      GitHub({
        clientId: process.env.GITHUB_ID,
        clientSecret: process.env.GITHUB_SECRET,
      }),
    ],
  })
)
```

  </Code.Express>
</Code>

### Setup Authentication Methods

With that the basic setup is complete! Refer to the next section, [Authentication](/overview/authentication), to setup your first authentication method.

</Steps>
