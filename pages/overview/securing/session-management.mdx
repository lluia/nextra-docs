import { Callout } from "nextra/components";
import { Code } from "../../../components/Code/Code";

# Session management

Auth.js allows you to easily add different authentication methods into your app. It also ships with some utilities to help you manage the user session easily. Here's an overview of them showing how they can be used.

<Callout>
  Note that for these helpers to work, first you need to [setup an
  authentication method](/overview/authentication). Either **OAuth**,
  **Paswordless** or **External auth**.
</Callout>

## Login users

...

## Logout users

...

## Exposing the session

<Code>
<Code.Next>

To expose the user's session to components within Next.js we can use the built-in [`SessionProvider`]():

```ts filename="pages/_app.tsx"
import { SessionProvider } from "next-auth/react";
import type { AppProps } from "next/app";

export default function App({
  Component,
  pageProps: { session, ...pageProps },
}: AppProps) {
  return (
    <SessionProvider session={session}>
      <Component {...pageProps} />
    </SessionProvider>
  );
}
```

</Code.Next>
</Code>

## Consuming the session

<Code>
<Code.Next>

Down the tree, you can now in components use the builtin [`useSession()`]() hook to gain access to the user's session data and authentication status:

```ts filename="pages/overview.tsx"
import { useSession, signIn, signOut } from "next-auth/react";

export default function Page() {
  const { data: session, status } = useSession();
  const userEmail = session?.user?.email;

  if (status === "loading") {
    return <p>Hang on there...</p>;
  }

  if (status === "authenticated") {
    return (
      <>
        <p>Signed in as {userEmail}</p>
        <button onClick={() => signOut()}>Sign out</button>
        <img src="https://cdn.pixabay.com/photo/2017/08/11/19/36/vw-2632486_1280.png" />
      </>
    );
  }

  return (
    <>
      <p>Not signed in.</p>
      <button onClick={() => signIn("github")}>Sign in</button>
    </>
  );
}
```

</Code.Next>
</Code>
